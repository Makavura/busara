<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="true">
    <p style="color: white"> Loading... </p>
</ngx-spinner>
<div class="container mx-auto px-40 mt-20" *ngIf="!isLoading">
    <div class="pb-10 mx-auto">
        <div class="bg-white shadow overflow-hidden sm:rounded-lg" *ngFor="let _form of forms; index as i">
            <div class="px-4 py-5 sm:px-6">
                <h3 class="text-lg leading-6 font-medium text-gray-900">
                    Survey: {{ _form.name}}
                </h3>
                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                    {{ _form.numchild}} Questions
                </p>    
                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                    Created on: {{ _form.created | date }} 
                </p>    
                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                    Valid until: {{ _form.valid_to | date }} 
                </p>    
                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                    Created by: {{ _form.creator.email }} 
                </p>    
            </div>

            <div  class="px-4 py-5 sm:px-6">
                <tree-root [nodes]="_form?.pages" [options]="options" (toggleExpanded)="onEvent($event)"
                (activate)="onEvent($event)"
                (focus)="onEvent($event)"
                (blur)="onEvent($event)"></tree-root>
            </div>            
        </div>
    </div>
</div>